<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

     <head  th:replace = "/fragments/head :: head"> </head>
     
      <header> 
            <nav th:replace= "/fragments/navbar :: nav"></nav>
        </header>

<body>
  



    <div th:if="${tipo == 'publicacion'}">
        <h2>Publicaciones:</h2>
        <ul>
            <a th:href="@{/publicacion/lista}"></a>

            <div class="container m-5">

                <table class="table table-info ">
                    <thead>
                        <tr>
                            <th scope="col">idPublicacion</th>
                            <th scope="col">Cuerpo</th>
                            <th scope="col">fecha de alta</th>
                            <th scope="col">Imagen</th>
                            <th scope="col">video</th>
                            <th scope="col">Estado</th>
                            <th scope="col" sec:authorize="hasRole('ADMIN')">Acciones</th>
                        </tr>
                    </thead>
                    <tbody th:each="publicacion : ${publicaciones}">
                        <tr class="table-light">
                            <th scope="row" th:text="${publicacion.idPublicacion}"></th>
                            <td th:text="${publicacion.Cuerpo}"></td>
                            <td th:text="${publicacion.fechaAlta}"></td>
                            <td>
                                <a><img th:if="${publicacion.imagen != null}" class="logo"
                                        th:src="@{/imagen/perfil/__${publicacion.idPublicacion}__}"></a>

                            </td>

                            <td th:text="${publicacion.video}"></td>
                            <td th:text="${publicacion.altaBaja}"></td>
                            <td>
                                <a sec:authorize="hasRole('ADMIN')" th:href="@{/publicacion/modificar/__${publicacion.idPublicacion}__}"><i
                                        class="fas fa-feather-alt"></i> Modificar </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>



          
        </ul>
    </div>


    <div class="container m-5">

        <table class="table table-dark">
            <thead>
                <tr>
                    <th scope="col">id</th>
                    <th scope="col">Empresa</th>
                    <th scope="col">email</th>
                    <th scope="col">fecha de alta</th>
                    <th scope="col">Cuit</th>
                    <th scope="col">Direccion</th>
                    <th scope="col">Rubro</th>
                    <th scope="col">Foto de Perfil</th>
                    <th scope="col" sec:authorize="hasRole('ADMIN')">Acciones</th>

                </tr>
            </thead>
            <tbody th:each="empresa : ${empresas}">
                <tr>
                    <th scope="row" th:text="${empresa.id}"></th>
                    <td th:text="${empresa.nombreEmpresa}"></td>
                    <td th:text="${empresa.email}"></td>
                    <td th:text="${empresa.fechaAlta}"></td>
                    <td th:text="${empresa.cuit}"></td>
                    <td th:text="${empresa.direccion}"></td>
                    <td th:text="${empresa.rubro}"></td>

                    <td>

                        <a><img th:if="${empresa.imagen != null}" class="logo"
                                th:src="@{/imagen/perfil/__${empresa.id}__}"></a>

                    </td>


                    
                </tr>

            </tbody>
        </table>


    </div>

     <footer th:replace="/fragments/footer :: footer" ></footer>
            <!-- SCRIPTS -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>

</html>